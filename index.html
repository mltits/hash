<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AAU Store - Campus Tech Marketplace</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <style>
        html { scroll-behavior: smooth; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in { animation: fadeIn 0.6s ease-out; }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
        
        /* Selection color */
        ::selection {
            background-color: #3b82f6;
            color: white;
        }
        
        /* Focus styles */
        :focus {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
        }
        
        /* Line clamp for product titles */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Import Web Components -->
    <script type="module" src="navbar.js"></script>
    <script type="module" src="product-card.js"></script>
    <script type="module" src="footer.js"></script>
    
    <!-- Custom Navbar -->
    <custom-navbar></custom-navbar>
    
    <!-- Spacer for fixed navbar -->
    <div class="h-24"></div>

    <!-- Hero Section -->
    <section class="py-12 px-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white fade-in">
        <div class="container mx-auto text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-6">Welcome to AAU Store</h1>
            <p class="text-xl mb-8 max-w-2xl mx-auto">Your campus tech marketplace with student-exclusive deals</p>
            <div class="max-w-2xl mx-auto">
                <div class="flex">
                    <input type="text" 
                           placeholder="Search for laptops, phones, accessories..." 
                           class="flex-grow px-6 py-4 rounded-l-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                    <button class="bg-yellow-400 text-gray-900 px-8 py-4 rounded-r-lg font-bold hover:bg-yellow-500 flex items-center">
                        <i data-feather="search" class="mr-2"></i> Search
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories -->
    <section class="py-12 px-4 fade-in">
        <div class="container mx-auto">
            <h2 class="text-3xl font-bold text-center mb-10">Shop by Category</h2>
            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-6">
                <a href="#" class="bg-white rounded-xl p-6 text-center shadow-md hover:shadow-xl transition-shadow">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i data-feather="smartphone" class="text-blue-600 w-8 h-8"></i>
                    </div>
                    <span class="font-bold text-gray-800">Phones</span>
                </a>
                <a href="#" class="bg-white rounded-xl p-6 text-center shadow-md hover:shadow-xl transition-shadow">
                    <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i data-feather="laptop" class="text-purple-600 w-8 h-8"></i>
                    </div>
                    <span class="font-bold text-gray-800">Laptops</span>
                </a>
                <a href="#" class="bg-white rounded-xl p-6 text-center shadow-md hover:shadow-xl transition-shadow">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i data-feather="headphones" class="text-green-600 w-8 h-8"></i>
                    </div>
                    <span class="font-bold text-gray-800">Audio</span>
                </a>
                <a href="#" class="bg-white rounded-xl p-6 text-center shadow-md hover:shadow-xl transition-shadow">
                    <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i data-feather="tablet" class="text-red-600 w-8 h-8"></i>
                    </div>
                    <span class="font-bold text-gray-800">Tablets</span>
                </a>
                <a href="#" class="bg-white rounded-xl p-6 text-center shadow-md hover:shadow-xl transition-shadow">
                    <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i data-feather="watch" class="text-yellow-600 w-8 h-8"></i>
                    </div>
                    <span class="font-bold text-gray-800">Wearables</span>
                </a>
                <a href="#" class="bg-white rounded-xl p-6 text-center shadow-md hover:shadow-xl transition-shadow">
                    <div class="w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i data-feather="cpu" class="text-indigo-600 w-8 h-8"></i>
                    </div>
                    <span class="font-bold text-gray-800">Components</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Today's Best Deals -->
    <section class="py-12 px-4 bg-gray-100 fade-in">
        <div class="container mx-auto">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Today's Best Deals üéØ</h2>
                <a href="#" class="text-blue-600 hover:text-blue-800 font-bold flex items-center">
                    View all deals <i data-feather="arrow-right" class="ml-2"></i>
                </a>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
                <!-- Product Cards using Web Components -->
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Wireless Bluetooth Headphones Noise Cancelling"
                    price="49.99"
                    original-price="79.99"
                    rating="4.5"
                    review-count="1284"
                    deal="true">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1598327105666-5b89351aff97?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Smartphone 128GB Dual Camera 5G"
                    price="699.99"
                    rating="4.8"
                    review-count="3247">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1553062407-98eeb64c6a62?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Laptop Backpack Waterproof with USB Port"
                    price="39.99"
                    original-price="59.99"
                    rating="4.3"
                    review-count="892"
                    deal="true">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Coffee Maker Programmable 12-Cup"
                    price="89.99"
                    rating="4.4"
                    review-count="1567">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1576243345690-4e4b79b63288?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Fitness Tracker with Heart Rate Monitor"
                    price="129.99"
                    original-price="169.99"
                    rating="4.6"
                    review-count="2341"
                    deal="true">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1507473885765-e6ed057f782c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="LED Desk Lamp with Wireless Charger"
                    price="29.99"
                    rating="4.2"
                    review-count="567">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="The Midnight Library - Best Seller Novel"
                    price="15.99"
                    rating="4.7"
                    review-count="4589">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Premium Yoga Mat Non-Slip"
                    price="24.99"
                    original-price="34.99"
                    rating="4.5"
                    review-count="1234"
                    deal="true">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1583394838336-acd977736f90?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Professional Kitchen Knife Set 8-Piece"
                    price="79.99"
                    rating="4.8"
                    review-count="987">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Bluetooth Speaker Portable Waterproof"
                    price="59.99"
                    original-price="79.99"
                    rating="4.4"
                    review-count="2345"
                    deal="true">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Running Shoes Lightweight Athletic"
                    price="89.99"
                    rating="4.6"
                    review-count="3123">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Professional Cookbook 500+ Recipes"
                    price="22.99"
                    original-price="29.99"
                    rating="4.7"
                    review-count="1789"
                    deal="true">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Digital Camera 24MP 4K Video"
                    price="549.99"
                    rating="4.9"
                    review-count="892">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Ergonomic Desk Chair with Lumbar Support"
                    price="149.99"
                    original-price="199.99"
                    rating="4.5"
                    review-count="2341"
                    deal="true">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1523362628745-0c100150b504?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Insulated Water Bottle 1L Stainless Steel"
                    price="19.99"
                    rating="4.3"
                    review-count="4567">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1527814050087-3793815479db?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Gaming Mouse RGB 16000 DPI"
                    price="39.99"
                    original-price="59.99"
                    rating="4.6"
                    review-count="1789"
                    deal="true">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1552733407-5d5c46c3bb3b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Fleece Throw Blanket Soft & Warm"
                    price="34.99"
                    rating="4.4"
                    review-count="912">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1532012197267-da84d127e765?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Science Fiction Book Collection Set"
                    price="12.99"
                    original-price="19.99"
                    rating="4.8"
                    review-count="3124"
                    deal="true">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1536922246289-88c42f957773?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Adjustable Dumbbell Set 5-25kg"
                    price="89.99"
                    rating="4.7"
                    review-count="1234">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1581291518857-4e27b48ff24e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Fast Wireless Charger Stand"
                    price="29.99"
                    original-price="39.99"
                    rating="4.5"
                    review-count="2678"
                    deal="true">
                </custom-product-card>
            </div>
        </div>
    </section>

    <!-- Best Sellers -->
    <section class="py-12 px-4 fade-in">
        <div class="container mx-auto">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Best Sellers ‚≠ê</h2>
                <a href="#" class="text-blue-600 hover:text-blue-800 font-bold flex items-center">
                    View all <i data-feather="arrow-right" class="ml-2"></i>
                </a>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6">
                <!-- Top 4 best sellers -->
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1598327105666-5b89351aff97?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Smartphone 256GB Pro Edition"
                    price="899.99"
                    rating="4.9"
                    review-count="5234">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1576243345690-4e4b79b63288?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Smart Watch with ECG Monitor"
                    price="199.99"
                    rating="4.8"
                    review-count="4123">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Atomic Habits - James Clear"
                    price="14.99"
                    rating="4.9"
                    review-count="8921">
                </custom-product-card>
                
                <custom-product-card 
                    image="https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"
                    title="Portable Bluetooth Speaker XL"
                    price="79.99"
                    rating="4.7"
                    review-count="3123">
                </custom-product-card>
            </div>
        </div>
    </section>

    <!-- Newsletter -->
    <section class="py-16 px-4 fade-in">
        <div class="container mx-auto">
            <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-8 md:p-12 text-white">
                <div class="max-w-2xl mx-auto text-center">
                    <h2 class="text-3xl font-bold mb-4">Student Deals Newsletter</h2>
                    <p class="text-lg mb-8">Get exclusive student discounts and early access to sales</p>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <input type="email" 
                               placeholder="Enter your AAU email" 
                               class="flex-grow px-6 py-4 rounded-lg text-gray-900">
                        <button class="bg-yellow-400 text-gray-900 px-8 py-4 rounded-lg font-bold hover:bg-yellow-500" id="newsletterButton">
                            Subscribe
                        </button>
                    </div>
                    <p class="text-sm mt-4 text-blue-100">By subscribing, you agree to our Privacy Policy</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Custom Footer -->
    <custom-footer></custom-footer>

    <!-- Main JavaScript -->
    <script type="module">
        // AAU Store - Main Application Script
        
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üöÄ AAU Store Web Components loaded successfully');
            
            // Initialize icons
            feather.replace();
            
            // Initialize cart from localStorage
            let cart = JSON.parse(localStorage.getItem('aau-cart')) || [];
            updateCartCount(cart.reduce((sum, item) => sum + item.quantity, 0));
            
            // Setup event listeners
            setupEventListeners();
            
            // Refresh icons periodically
            setInterval(feather.replace, 5000);
        });
        
        function setupEventListeners() {
            // Listen for custom events from product cards
            document.addEventListener('add-to-cart', (e) => {
                console.log(`üõí Added "${e.detail.title}" to cart for $${e.detail.price}`);
                
                // Add to cart
                let cart = JSON.parse(localStorage.getItem('aau-cart')) || [];
                const existingItem = cart.find(item => item.title === e.detail.title);
                
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({
                        ...e.detail,
                        quantity: 1
                    });
                }
                
                localStorage.setItem('aau-cart', JSON.stringify(cart));
                updateCartCount(cart.reduce((sum, item) => sum + item.quantity, 0));
                showNotification(`Added ${e.detail.title} to cart!`, 'success');
            });
            
            // Quick view event
            document.addEventListener('quick-view', (e) => {
                console.log(`üëÅÔ∏è Quick view: ${e.detail.title}`);
                showQuickViewModal(e.detail);
            });
            
            // Wishlist toggle event
            document.addEventListener('wishlist-toggle', (e) => {
                console.log(`üíñ ${e.detail.added ? 'Added to' : 'Removed from'} wishlist: ${e.detail.title}`);
                showNotification(`${e.detail.title} ${e.detail.added ? 'added to' : 'removed from'} wishlist`, 'info');
            });
            
            // Product view event
            document.addEventListener('product-view', (e) => {
                console.log(`üì± Viewing product: ${e.detail.title}`);
                // In real app, navigate to product page
                window.location.href = `/product/${encodeURIComponent(e.detail.title)}`;
            });
            
            // Newsletter button
            const newsletterButton = document.getElementById('newsletterButton');
            if (newsletterButton) {
                newsletterButton.addEventListener('click', handleNewsletterSubmit);
            }
            
            // Cart button in navbar (will be handled by custom-navbar)
        }
        
        function updateCartCount(count) {
            // Update cart badge in navbar
            const cartBadge = document.querySelector('custom-navbar')?.shadowRoot?.querySelector('.cart-badge');
            if (cartBadge) {
                cartBadge.textContent = count;
                cartBadge.style.animation = 'none';
                setTimeout(() => {
                    cartBadge.style.animation = 'pulse 2s infinite';
                }, 10);
            }
        }
        
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `fixed top-24 right-4 px-6 py-3 rounded-lg shadow-lg z-50 transform transition-transform duration-300 translate-x-0 ${
                type === 'success' ? 'bg-green-500 text-white' :
                type === 'error' ? 'bg-red-500 text-white' :
                'bg-blue-500 text-white'
            }`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
        
        function showQuickViewModal(product) {
            // Create modal
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-6">
                            <h2 class="text-2xl font-bold">${product.title}</h2>
                            <button class="text-gray-500 hover:text-gray-700 close-modal">
                                <i data-feather="x" class="w-6 h-6"></i>
                            </button>
                        </div>
                        <div class="grid md:grid-cols-2 gap-8">
                            <div>
                                <img src="${product.image}" alt="${product.title}" class="w-full rounded-lg">
                            </div>
                            <div>
                                <div class="text-3xl font-bold text-gray-900 mb-4">$${product.price}</div>
                                <div class="flex items-center mb-4">
                                    <div class="flex text-yellow-400 mr-2">
                                        ${Array(5).fill('<i data-feather="star" class="w-5 h-5 fill-current"></i>').join('')}
                                    </div>
                                    <span class="text-gray-600">${product.rating || '4.5'}/5</span>
                                </div>
                                <p class="text-gray-600 mb-6">Premium product with campus delivery available for AAU students. 30-day return policy.</p>
                                <button class="w-full bg-yellow-400 text-gray-900 py-3 rounded-lg font-bold hover:bg-yellow-500 mb-4 add-to-cart-modal">
                                    Add to Cart - $${product.price}
                                </button>
                                <button class="w-full border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50">
                                    Add to Wishlist
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            feather.replace();
            
            // Close modal
            modal.querySelector('.close-modal').addEventListener('click', () => modal.remove());
            modal.addEventListener('click', (e) => {
                if (e.target === modal) modal.remove();
            });
            
            // Add to cart from modal
            modal.querySelector('.add-to-cart-modal').addEventListener('click', () => {
                document.dispatchEvent(new CustomEvent('add-to-cart', {
                    detail: product
                }));
                modal.remove();
            });
        }
        
        function handleNewsletterSubmit() {
            const input = this.previousElementSibling;
            const email = input.value.trim();
            
            if (email.includes('@') && email.includes('.')) {
                if (email.endsWith('@aau.edu.et')) {
                    localStorage.setItem('aau-student-email', email);
                    showNotification('üéì Student discount activated! 10% off all purchases!', 'success');
                }
                
                showNotification('Thanks for subscribing to AAU Store!', 'success');
                input.value = '';
            } else {
                showNotification('Please enter a valid email address', 'error');
            }
        }
        
        // Update cart count on page load
        window.addEventListener('load', () => {
            let cart = JSON.parse(localStorage.getItem('aau-cart')) || [];
            updateCartCount(cart.reduce((sum, item) => sum + item.quantity, 0));
        });
    </script>
</body>
</html>
